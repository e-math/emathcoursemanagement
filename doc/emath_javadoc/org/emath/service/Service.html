<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_51) on Fri Oct 18 12:21:13 EEST 2013 -->
<TITLE>
Service
</TITLE>

<META NAME="date" CONTENT="2013-10-18">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Service";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Service.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/emath/service/PasswordGenerator.html" title="class in org.emath.service"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/emath/service/ServiceImpl.html" title="class in org.emath.service"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/emath/service/Service.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Service.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.emath.service</FONT>
<BR>
Interface Service</H2>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../org/emath/service/ServiceImpl.html" title="class in org.emath.service">ServiceImpl</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>Service</B></DL>
</PRE>

<P>
Defines the service layer contract of the e-math server-side system.
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/emath/model/book/Book.html" title="class in org.emath.model.book">Book</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#addBook(java.lang.String)">addBook</A></B>(java.lang.String&nbsp;title)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a Book with the given title to the Database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#addCourse(int, java.lang.String, java.lang.String)">addCourse</A></B>(int&nbsp;schoolId,
          java.lang.String&nbsp;teachersText,
          java.lang.String&nbsp;booksText)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts a new Course to the database and returns the database id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/emath/model/communication/School.html" title="class in org.emath.model.communication">School</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#addSchool(java.lang.String, java.lang.String)">addSchool</A></B>(java.lang.String&nbsp;country,
          java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a School with the given country and name to the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#addTeacher(java.lang.String, java.lang.String, int)">addTeacher</A></B>(java.lang.String&nbsp;name,
           java.lang.String&nbsp;email,
           int&nbsp;schoolId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts a new Teacher to the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#addTrafficLogEntry(int, java.lang.String, java.lang.String)">addTrafficLogEntry</A></B>(int&nbsp;userId,
                   java.lang.String&nbsp;remoteAddr,
                   java.lang.String&nbsp;requestInfo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a new entry to the traffic log.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set&lt;<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#generateUsers(int, int, java.lang.String)">generateUsers</A></B>(int&nbsp;boysSum,
              int&nbsp;girlsSum,
              java.lang.String&nbsp;courseString)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generates new students and adds them to the course.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#generateUsersLegacy(int, int, int)">generateUsersLegacy</A></B>(int&nbsp;boysSum,
                    int&nbsp;girlsSum,
                    int&nbsp;courseId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#getAddedContentInfo(int)">getAddedContentInfo</A></B>(int&nbsp;courseId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets information about the newest entry in the addedcontent database table for a Course.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set&lt;<A HREF="../../../org/emath/model/communication/ClientBook.html" title="class in org.emath.model.communication">ClientBook</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#getBookList()">getBookList</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a list of all ebooks.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../org/emath/model/book/Comment.html" title="class in org.emath.model.book">Comment</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#getComments(org.emath.model.communication.User, org.emath.model.communication.Course, java.lang.String, java.lang.String)">getComments</A></B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
            <A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;course,
            java.lang.String&nbsp;lastUpdateTime,
            java.lang.String&nbsp;requestTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets all comments from the database that were added after lastUpdateTime.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#getCommentsInfo(int)">getCommentsInfo</A></B>(int&nbsp;courseId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets information about the newest comment for a course.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#getCourse(int)">getCourse</A></B>(int&nbsp;courseId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the Course object for which getId() would return courseId.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set&lt;<A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#getCoursesByTeacherId(int)">getCoursesByTeacherId</A></B>(int&nbsp;teacherId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets all courses with a certain Teacher.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set&lt;<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#getCourseStudents(java.lang.String)">getCourseStudents</A></B>(java.lang.String&nbsp;courseString)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the list of students who are participating in the course.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#getCourseStudentsLegacy(int)">getCourseStudentsLegacy</A></B>(int&nbsp;courseId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../org/emath/model/communication/DummySystemUpdate.html" title="class in org.emath.model.communication">DummySystemUpdate</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#getDummySystemUpdates(java.lang.String, int, java.lang.String)">getDummySystemUpdates</A></B>(java.lang.String&nbsp;bookVersion,
                      int&nbsp;updateType,
                      java.lang.String&nbsp;lastUpdateTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the system updates for a dummy book.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/emath/model/communication/Exam.html" title="class in org.emath.model.communication">Exam</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#getExam(org.emath.model.communication.User, int)">getExam</A></B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;u,
        int&nbsp;examId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the exam e for which e.id=examId.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#getNewestEntry(int, int)">getNewestEntry</A></B>(int&nbsp;userIdToCheck,
               int&nbsp;courseId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets information about the newest entry in the solution database table for a User and a Course.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set&lt;<A HREF="../../../org/emath/model/communication/School.html" title="class in org.emath.model.communication">School</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#getSchoolList()">getSchoolList</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a list of all schools.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../org/emath/model/book/AssignmentSolution.html" title="class in org.emath.model.book">AssignmentSolution</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#getSolutions(org.emath.model.communication.User, org.emath.model.communication.Course, java.lang.String, java.lang.String)">getSolutions</A></B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
             <A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;course,
             java.lang.String&nbsp;lastUpdateTime,
             java.lang.String&nbsp;requestTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets all solutions from the database that were inserted after lastUpdateTime.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set&lt;<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#getStudentList(int)">getStudentList</A></B>(int&nbsp;courseId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a list of all students of the school that has the given course.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../org/emath/model/communication/SystemUpdate.html" title="class in org.emath.model.communication">SystemUpdate</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#getSystemUpdates(org.emath.model.communication.User, java.lang.String, java.lang.String)">getSystemUpdates</A></B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
                 java.lang.String&nbsp;lastUpdateTime,
                 java.lang.String&nbsp;requestTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets SystemUpdates from the database that are newer than lastUpdateTime.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set&lt;<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#getTeachers(int)">getTeachers</A></B>(int&nbsp;schoolId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets all teachers of a certain school.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#getUpdates(org.emath.model.communication.User, org.emath.model.communication.Course, java.lang.String, java.lang.String)">getUpdates</A></B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
           <A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;course,
           java.lang.String&nbsp;lastUpdateTime,
           java.lang.String&nbsp;requestTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets all updates that were inserted into the database after lastUpdateTime.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#grantExamAccess(int[], int, int)">grantExamAccess</A></B>(int[]&nbsp;students,
                int&nbsp;examId,
                int&nbsp;timeLimit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Grants one-time access to an exam to students based on their id:s.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#isUserInCourse(org.emath.model.communication.User, java.lang.String, java.lang.String, java.lang.String)">isUserInCourse</A></B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
               java.lang.String&nbsp;courseString,
               java.lang.String&nbsp;clientIp,
               java.lang.String&nbsp;userAgent)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method confirms if the given user is either a teacher or a student in 
 the course.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#isValidUser(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">isValidUser</A></B>(java.lang.String&nbsp;userName,
            java.lang.String&nbsp;password,
            java.lang.String&nbsp;courseString,
            java.lang.String&nbsp;clientIp,
            java.lang.String&nbsp;userAgent)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the User object if the user is valid, else returns null.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#removeLock(org.emath.model.communication.User, org.emath.model.communication.Course, java.lang.String)">removeLock</A></B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
           <A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;course,
           java.lang.String&nbsp;lockId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes an existing course lock.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#requestLock(org.emath.model.communication.User, org.emath.model.communication.Course)">requestLock</A></B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
            <A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;course)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Locks the given course for the given user.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#saveBookUpdate(org.emath.model.communication.User, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">saveBookUpdate</A></B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
               java.lang.String&nbsp;data,
               java.lang.String&nbsp;bookId,
               java.lang.String&nbsp;updateType,
               java.lang.String&nbsp;clientIp,
               java.lang.String&nbsp;lang)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Saves the BookUpdate and returns the database id of the inserted BookUpdate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#saveComment(org.emath.model.communication.User, org.emath.model.communication.Course, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">saveComment</A></B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
            <A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;course,
            java.lang.String&nbsp;data,
            java.lang.String&nbsp;clientIp,
            java.lang.String&nbsp;userHash,
            java.lang.String&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts or modifies Comment and saves it to the database if no illegal operations have 
 been attempted.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#saveContent(org.emath.model.communication.User, org.emath.model.communication.Course, java.lang.String, int, java.lang.String, java.lang.String, java.lang.String)">saveContent</A></B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
            <A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;course,
            java.lang.String&nbsp;clientIp,
            int&nbsp;isPublic,
            java.lang.String&nbsp;available,
            java.lang.String&nbsp;id,
            java.lang.String&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts or modifies AddedContent and saves it to the database if no illegal operations have 
 been attempted.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#saveCourse(org.emath.model.communication.Course)">saveCourse</A></B>(<A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;clientCourse)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parses the course and saves it to the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#saveExamSolution(org.emath.model.communication.User, int, java.lang.String)">saveExamSolution</A></B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;u,
                 int&nbsp;examId,
                 java.lang.String&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Saves the answers to an exam.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#saveHistory(org.emath.model.communication.User, int, int, java.lang.String)">saveHistory</A></B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;u,
            int&nbsp;bookId,
            int&nbsp;courseId,
            java.lang.String&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Saves the book "session" history to the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#saveSolution(org.emath.model.communication.User, org.emath.model.communication.Course, java.lang.String, java.lang.String, int, java.lang.String)">saveSolution</A></B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
             <A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;course,
             java.lang.String&nbsp;data,
             java.lang.String&nbsp;clientIp,
             int&nbsp;isPublic,
             java.lang.String&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Saves the solution to the database as a new solution if a solution with exactly the same
 title in its data doesn't exist.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/emath/service/Service.html#saveSystemUpdate(org.emath.model.communication.User, java.lang.String, java.lang.String, java.lang.String)">saveSystemUpdate</A></B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
                 java.lang.String&nbsp;data,
                 java.lang.String&nbsp;updateType,
                 java.lang.String&nbsp;clientIp)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts a SystemUpdate into the database if user.getRole() == User.ADMIN.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="isValidUser(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
isValidUser</H3>
<PRE>
<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A> <B>isValidUser</B>(java.lang.String&nbsp;userName,
                 java.lang.String&nbsp;password,
                 java.lang.String&nbsp;courseString,
                 java.lang.String&nbsp;clientIp,
                 java.lang.String&nbsp;userAgent)</PRE>
<DL>
<DD>Returns the User object if the user is valid, else returns null. For teachers and students
 the user is considered valid if 1) username and password match 2) course id can be parsed 3)
 course exists 4) first character of course is 'c' or 'C' and user is in course. For admins
 only username and password need to be correct.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="saveBookUpdate(org.emath.model.communication.User, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
saveBookUpdate</H3>
<PRE>
int <B>saveBookUpdate</B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
                   java.lang.String&nbsp;data,
                   java.lang.String&nbsp;bookId,
                   java.lang.String&nbsp;updateType,
                   java.lang.String&nbsp;clientIp,
                   java.lang.String&nbsp;lang)</PRE>
<DL>
<DD>Saves the BookUpdate and returns the database id of the inserted BookUpdate.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>user</CODE> - The user who inserts the BookUpdate<DD><CODE>data</CODE> - The data content of the BookUpdate<DD><CODE>bookId</CODE> - <DD><CODE>updateType</CODE> - <DD><CODE>clientIp</CODE> - The ip address of the client.<DD><CODE>lang</CODE> - The language for which the content is meant or null if for all languages.
<DT><B>Returns:</B><DD>The database id</DL>
</DD>
</DL>
<HR>

<A NAME="addCourse(int, java.lang.String, java.lang.String)"><!-- --></A><H3>
addCourse</H3>
<PRE>
int <B>addCourse</B>(int&nbsp;schoolId,
              java.lang.String&nbsp;teachersText,
              java.lang.String&nbsp;booksText)</PRE>
<DL>
<DD>Inserts a new Course to the database and returns the database id.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>schoolId</CODE> - <DD><CODE>teachersText</CODE> - <DD><CODE>booksText</CODE> - 
<DT><B>Returns:</B><DD>database id</DL>
</DD>
</DL>
<HR>

<A NAME="addTeacher(java.lang.String, java.lang.String, int)"><!-- --></A><H3>
addTeacher</H3>
<PRE>
<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A> <B>addTeacher</B>(java.lang.String&nbsp;name,
                java.lang.String&nbsp;email,
                int&nbsp;schoolId)</PRE>
<DL>
<DD>Inserts a new Teacher to the database.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - <DD><CODE>email</CODE> - <DD><CODE>schoolId</CODE> - 
<DT><B>Returns:</B><DD>course id in database</DL>
</DD>
</DL>
<HR>

<A NAME="getNewestEntry(int, int)"><!-- --></A><H3>
getNewestEntry</H3>
<PRE>
java.lang.String <B>getNewestEntry</B>(int&nbsp;userIdToCheck,
                                int&nbsp;courseId)</PRE>
<DL>
<DD>Gets information about the newest entry in the solution database table for a User and a Course.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userIdToCheck</CODE> - The user id.<DD><CODE>courseId</CODE> - The course id.
<DT><B>Returns:</B><DD>The teacher</DL>
</DD>
</DL>
<HR>

<A NAME="getAddedContentInfo(int)"><!-- --></A><H3>
getAddedContentInfo</H3>
<PRE>
java.lang.String <B>getAddedContentInfo</B>(int&nbsp;courseId)</PRE>
<DL>
<DD>Gets information about the newest entry in the addedcontent database table for a Course.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>courseId</CODE> - The course id
<DT><B>Returns:</B><DD>A JSON-string</DL>
</DD>
</DL>
<HR>

<A NAME="getCommentsInfo(int)"><!-- --></A><H3>
getCommentsInfo</H3>
<PRE>
java.lang.String <B>getCommentsInfo</B>(int&nbsp;courseId)</PRE>
<DL>
<DD>Gets information about the newest comment for a course.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>courseId</CODE> - The course id
<DT><B>Returns:</B><DD>A JSON-string</DL>
</DD>
</DL>
<HR>

<A NAME="addBook(java.lang.String)"><!-- --></A><H3>
addBook</H3>
<PRE>
<A HREF="../../../org/emath/model/book/Book.html" title="class in org.emath.model.book">Book</A> <B>addBook</B>(java.lang.String&nbsp;title)</PRE>
<DL>
<DD>Adds a Book with the given title to the Database.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>title</CODE> - The title of the Book
<DT><B>Returns:</B><DD>A JSON-string</DL>
</DD>
</DL>
<HR>

<A NAME="addSchool(java.lang.String, java.lang.String)"><!-- --></A><H3>
addSchool</H3>
<PRE>
<A HREF="../../../org/emath/model/communication/School.html" title="class in org.emath.model.communication">School</A> <B>addSchool</B>(java.lang.String&nbsp;country,
                 java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Adds a School with the given country and name to the database.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>country</CODE> - The country string (for example 'FI')<DD><CODE>name</CODE> - The name of the school
<DT><B>Returns:</B><DD>the School</DL>
</DD>
</DL>
<HR>

<A NAME="saveSystemUpdate(org.emath.model.communication.User, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
saveSystemUpdate</H3>
<PRE>
int <B>saveSystemUpdate</B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
                     java.lang.String&nbsp;data,
                     java.lang.String&nbsp;updateType,
                     java.lang.String&nbsp;clientIp)</PRE>
<DL>
<DD>Inserts a SystemUpdate into the database if user.getRole() == User.ADMIN. Else simply 
 returns "-1". If insert is successful then database id is returned.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>user</CODE> - The user who is attempting insert.<DD><CODE>data</CODE> - The data content of the SystemUpdate<DD><CODE>updateType</CODE> - <DD><CODE>clientIp</CODE> - The ip address of the client
<DT><B>Returns:</B><DD>database id || -1 if unsuccessful</DL>
</DD>
</DL>
<HR>

<A NAME="getSystemUpdates(org.emath.model.communication.User, java.lang.String, java.lang.String)"><!-- --></A><H3>
getSystemUpdates</H3>
<PRE>
java.util.List&lt;<A HREF="../../../org/emath/model/communication/SystemUpdate.html" title="class in org.emath.model.communication">SystemUpdate</A>&gt; <B>getSystemUpdates</B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
                                              java.lang.String&nbsp;lastUpdateTime,
                                              java.lang.String&nbsp;requestTime)</PRE>
<DL>
<DD>Gets SystemUpdates from the database that are newer than lastUpdateTime.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>user</CODE> - The User who is getting updates<DD><CODE>lastUpdateTime</CODE> - The time when the Users book was previously updated<DD><CODE>requestTime</CODE> - The time when the request arrived
<DT><B>Returns:</B><DD>A list of SystemUpdates</DL>
</DD>
</DL>
<HR>

<A NAME="saveSolution(org.emath.model.communication.User, org.emath.model.communication.Course, java.lang.String, java.lang.String, int, java.lang.String)"><!-- --></A><H3>
saveSolution</H3>
<PRE>
int <B>saveSolution</B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
                 <A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;course,
                 java.lang.String&nbsp;data,
                 java.lang.String&nbsp;clientIp,
                 int&nbsp;isPublic,
                 java.lang.String&nbsp;id)</PRE>
<DL>
<DD>Saves the solution to the database as a new solution if a solution with exactly the same
 title in its data doesn't exist. Else performs update to the existing solution.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>user</CODE> - The user that is saving the solution<DD><CODE>course</CODE> - The course that the User is in<DD><CODE>data</CODE> - The data content of the Solution<DD><CODE>clientIp</CODE> - The ip address of the client<DD><CODE>isPublic</CODE> - solution published or not.<DD><CODE>id</CODE> - The database id of the solution or null if new
<DT><B>Returns:</B><DD>database id of the solution</DL>
</DD>
</DL>
<HR>

<A NAME="saveContent(org.emath.model.communication.User, org.emath.model.communication.Course, java.lang.String, int, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
saveContent</H3>
<PRE>
int <B>saveContent</B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
                <A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;course,
                java.lang.String&nbsp;clientIp,
                int&nbsp;isPublic,
                java.lang.String&nbsp;available,
                java.lang.String&nbsp;id,
                java.lang.String&nbsp;data)</PRE>
<DL>
<DD>Inserts or modifies AddedContent and saves it to the database if no illegal operations have 
 been attempted.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>user</CODE> - The User who is saving the AddedContent<DD><CODE>course</CODE> - The course to which the AddedContent is added to<DD><CODE>clientIp</CODE> - The ip address of the client<DD><CODE>isPublic</CODE> - AddedContent published or not<DD><CODE>available</CODE> - The date when the AddedContent will be available<DD><CODE>id</CODE> - The database id || null if new AddedContent<DD><CODE>data</CODE> - The data content of the AddedContent
<DT><B>Returns:</B><DD>if illegal operation is attempted returns "-1", else AddedContents database id</DL>
</DD>
</DL>
<HR>

<A NAME="saveComment(org.emath.model.communication.User, org.emath.model.communication.Course, java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
saveComment</H3>
<PRE>
int <B>saveComment</B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
                <A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;course,
                java.lang.String&nbsp;data,
                java.lang.String&nbsp;clientIp,
                java.lang.String&nbsp;userHash,
                java.lang.String&nbsp;id)</PRE>
<DL>
<DD>Inserts or modifies Comment and saves it to the database if no illegal operations have 
 been attempted.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>user</CODE> - The User who is saving the Comment<DD><CODE>course</CODE> - The course to which the Comment is added to<DD><CODE>data</CODE> - The data content of the Comment<DD><CODE>clientIp</CODE> - The ip address of the client<DD><CODE>userHash</CODE> - The userhash of the student<DD><CODE>id</CODE> - The database id || null if new Comment
<DT><B>Returns:</B><DD>if illegal operation is attempted returns -1, else Comments database id</DL>
</DD>
</DL>
<HR>

<A NAME="getComments(org.emath.model.communication.User, org.emath.model.communication.Course, java.lang.String, java.lang.String)"><!-- --></A><H3>
getComments</H3>
<PRE>
java.util.List&lt;<A HREF="../../../org/emath/model/book/Comment.html" title="class in org.emath.model.book">Comment</A>&gt; <B>getComments</B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
                                    <A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;course,
                                    java.lang.String&nbsp;lastUpdateTime,
                                    java.lang.String&nbsp;requestTime)</PRE>
<DL>
<DD>Gets all comments from the database that were added after lastUpdateTime.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>user</CODE> - The User who is getting Comments<DD><CODE>course</CODE> - The Course for which Comments are wanted<DD><CODE>lastUpdateTime</CODE> - The time when the Users book was previously updated<DD><CODE>requestTime</CODE> - The time when the request was received
<DT><B>Returns:</B><DD>A storearea element that contains the Comments</DL>
</DD>
</DL>
<HR>

<A NAME="getBookList()"><!-- --></A><H3>
getBookList</H3>
<PRE>
java.util.Set&lt;<A HREF="../../../org/emath/model/communication/ClientBook.html" title="class in org.emath.model.communication">ClientBook</A>&gt; <B>getBookList</B>()</PRE>
<DL>
<DD>Gets a list of all ebooks.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSchoolList()"><!-- --></A><H3>
getSchoolList</H3>
<PRE>
java.util.Set&lt;<A HREF="../../../org/emath/model/communication/School.html" title="class in org.emath.model.communication">School</A>&gt; <B>getSchoolList</B>()</PRE>
<DL>
<DD>Gets a list of all schools.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getStudentList(int)"><!-- --></A><H3>
getStudentList</H3>
<PRE>
java.util.Set&lt;<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&gt; <B>getStudentList</B>(int&nbsp;courseId)</PRE>
<DL>
<DD>Gets a list of all students of the school that has the given course.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>courseId</CODE> - The database id of the course.</DL>
</DD>
</DL>
<HR>

<A NAME="getCoursesByTeacherId(int)"><!-- --></A><H3>
getCoursesByTeacherId</H3>
<PRE>
java.util.Set&lt;<A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&gt; <B>getCoursesByTeacherId</B>(int&nbsp;teacherId)</PRE>
<DL>
<DD>Gets all courses with a certain Teacher.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>teacherId</CODE> - The database id of the teacher</DL>
</DD>
</DL>
<HR>

<A NAME="getTeachers(int)"><!-- --></A><H3>
getTeachers</H3>
<PRE>
java.util.Set&lt;<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&gt; <B>getTeachers</B>(int&nbsp;schoolId)</PRE>
<DL>
<DD>Gets all teachers of a certain school.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>schoolId</CODE> - The database id of the school
<DT><B>Returns:</B><DD>All teachers from school were School.getId() == schoolId</DL>
</DD>
</DL>
<HR>

<A NAME="getUpdates(org.emath.model.communication.User, org.emath.model.communication.Course, java.lang.String, java.lang.String)"><!-- --></A><H3>
getUpdates</H3>
<PRE>
java.lang.String <B>getUpdates</B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
                            <A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;course,
                            java.lang.String&nbsp;lastUpdateTime,
                            java.lang.String&nbsp;requestTime)</PRE>
<DL>
<DD>Gets all updates that were inserted into the database after lastUpdateTime.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>user</CODE> - The User that has requested updates<DD><CODE>course</CODE> - The course that the user is getting updates for<DD><CODE>lastUpdateTime</CODE> - The time when the Users book was previously updated<DD><CODE>requestTime</CODE> - The time when the request was received
<DT><B>Returns:</B><DD>A storearea element that contains the Updates</DL>
</DD>
</DL>
<HR>

<A NAME="getSolutions(org.emath.model.communication.User, org.emath.model.communication.Course, java.lang.String, java.lang.String)"><!-- --></A><H3>
getSolutions</H3>
<PRE>
java.util.List&lt;<A HREF="../../../org/emath/model/book/AssignmentSolution.html" title="class in org.emath.model.book">AssignmentSolution</A>&gt; <B>getSolutions</B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
                                                <A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;course,
                                                java.lang.String&nbsp;lastUpdateTime,
                                                java.lang.String&nbsp;requestTime)</PRE>
<DL>
<DD>Gets all solutions from the database that were inserted after lastUpdateTime.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>user</CODE> - The User requesting solutions<DD><CODE>course</CODE> - The course for which solutions are being fetched<DD><CODE>lastUpdateTime</CODE> - The time when the Users book was previously updated<DD><CODE>requestTime</CODE> - The time when the request was received
<DT><B>Returns:</B><DD>A list of Solutions</DL>
</DD>
</DL>
<HR>

<A NAME="requestLock(org.emath.model.communication.User, org.emath.model.communication.Course)"><!-- --></A><H3>
requestLock</H3>
<PRE>
int <B>requestLock</B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
                <A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;course)</PRE>
<DL>
<DD>Locks the given course for the given user.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>user</CODE> - The user who will have access to the locked course<DD><CODE>course</CODE> - The course that will be locked
<DT><B>Returns:</B><DD>The database id of the lock</DL>
</DD>
</DL>
<HR>

<A NAME="removeLock(org.emath.model.communication.User, org.emath.model.communication.Course, java.lang.String)"><!-- --></A><H3>
removeLock</H3>
<PRE>
int <B>removeLock</B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
               <A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;course,
               java.lang.String&nbsp;lockId)</PRE>
<DL>
<DD>Removes an existing course lock.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>user</CODE> - The user that is removing the lock<DD><CODE>course</CODE> - The course that is unlocked<DD><CODE>lockId</CODE> - 
<DT><B>Returns:</B><DD>1 if successful else 0</DL>
</DD>
</DL>
<HR>

<A NAME="generateUsers(int, int, java.lang.String)"><!-- --></A><H3>
generateUsers</H3>
<PRE>
java.util.Set&lt;<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&gt; <B>generateUsers</B>(int&nbsp;boysSum,
                                  int&nbsp;girlsSum,
                                  java.lang.String&nbsp;courseString)</PRE>
<DL>
<DD>Generates new students and adds them to the course.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>boysSum</CODE> - The amount of boy students to be generated<DD><CODE>girlsSum</CODE> - The amount of girl students to be generated<DD><CODE>courseString</CODE> - The course with letter (for example "C60")
<DT><B>Returns:</B><DD>A set of new students</DL>
</DD>
</DL>
<HR>

<A NAME="getCourseStudents(java.lang.String)"><!-- --></A><H3>
getCourseStudents</H3>
<PRE>
java.util.Set&lt;<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&gt; <B>getCourseStudents</B>(java.lang.String&nbsp;courseString)</PRE>
<DL>
<DD>Gets the list of students who are participating in the course.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>courseString</CODE> - The course with letter (for example "C60")
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="saveCourse(org.emath.model.communication.Course)"><!-- --></A><H3>
saveCourse</H3>
<PRE>
int <B>saveCourse</B>(<A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A>&nbsp;clientCourse)</PRE>
<DL>
<DD>Parses the course and saves it to the database.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>courseJson</CODE> - 
<DT><B>Returns:</B><DD>1 if successful else 0</DL>
</DD>
</DL>
<HR>

<A NAME="addTrafficLogEntry(int, java.lang.String, java.lang.String)"><!-- --></A><H3>
addTrafficLogEntry</H3>
<PRE>
void <B>addTrafficLogEntry</B>(int&nbsp;userId,
                        java.lang.String&nbsp;remoteAddr,
                        java.lang.String&nbsp;requestInfo)</PRE>
<DL>
<DD>Adds a new entry to the traffic log.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userId</CODE> - The database id of the user<DD><CODE>remoteAddr</CODE> - The ip address of the client<DD><CODE>requestInfo</CODE> - All information that was parsed from the request</DL>
</DD>
</DL>
<HR>

<A NAME="getCourse(int)"><!-- --></A><H3>
getCourse</H3>
<PRE>
<A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A> <B>getCourse</B>(int&nbsp;courseId)</PRE>
<DL>
<DD>Returns the Course object for which getId() would return courseId.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>courseId</CODE> - The database id of the course
<DT><B>Returns:</B><DD>The Course object</DL>
</DD>
</DL>
<HR>

<A NAME="generateUsersLegacy(int, int, int)"><!-- --></A><H3>
generateUsersLegacy</H3>
<PRE>
<FONT SIZE="-1">@Deprecated
</FONT>java.lang.String <B>generateUsersLegacy</B>(int&nbsp;boysSum,
                                                int&nbsp;girlsSum,
                                                int&nbsp;courseId)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;
<P>
<DD>This method is deprecated and is only be used by old ebooks. Use generateUsers-method instead.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCourseStudentsLegacy(int)"><!-- --></A><H3>
getCourseStudentsLegacy</H3>
<PRE>
<FONT SIZE="-1">@Deprecated
</FONT>java.lang.String <B>getCourseStudentsLegacy</B>(int&nbsp;courseId)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;
<P>
<DD>This method is deprecated and is only be used by old ebooks. Use getCourseStudents-method instead.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="grantExamAccess(int[], int, int)"><!-- --></A><H3>
grantExamAccess</H3>
<PRE>
int <B>grantExamAccess</B>(int[]&nbsp;students,
                    int&nbsp;examId,
                    int&nbsp;timeLimit)</PRE>
<DL>
<DD>Grants one-time access to an exam to students based on their id:s.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>students</CODE> - An array of student id:s<DD><CODE>examId</CODE> - The id of the exam to which access is granted<DD><CODE>timeLimit</CODE> - The time that the access permission is valid in seconds
<DT><B>Returns:</B><DD>if successful return 1, else return 0</DL>
</DD>
</DL>
<HR>

<A NAME="getExam(org.emath.model.communication.User, int)"><!-- --></A><H3>
getExam</H3>
<PRE>
<A HREF="../../../org/emath/model/communication/Exam.html" title="class in org.emath.model.communication">Exam</A> <B>getExam</B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;u,
             int&nbsp;examId)</PRE>
<DL>
<DD>Gets the exam e for which e.id=examId. If User u has permission to get the whole exam. Else the 
 user will get an exam where e.getData == null.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>u</CODE> - The user who is calling getExam<DD><CODE>examId</CODE> - The database id of the exam
<DT><B>Returns:</B><DD>The requested exam</DL>
</DD>
</DL>
<HR>

<A NAME="saveExamSolution(org.emath.model.communication.User, int, java.lang.String)"><!-- --></A><H3>
saveExamSolution</H3>
<PRE>
int <B>saveExamSolution</B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;u,
                     int&nbsp;examId,
                     java.lang.String&nbsp;data)</PRE>
<DL>
<DD>Saves the answers to an exam.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>u</CODE> - The user who has sent the answers<DD><CODE>examId</CODE> - The id that the answers are for<DD><CODE>data</CODE> - The answer data
<DT><B>Returns:</B><DD>1 if successful, else 0</DL>
</DD>
</DL>
<HR>

<A NAME="saveHistory(org.emath.model.communication.User, int, int, java.lang.String)"><!-- --></A><H3>
saveHistory</H3>
<PRE>
int <B>saveHistory</B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;u,
                int&nbsp;bookId,
                int&nbsp;courseId,
                java.lang.String&nbsp;data)</PRE>
<DL>
<DD>Saves the book "session" history to the database.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>u</CODE> - The user who sent his/her navigation history<DD><CODE>bookId</CODE> - The database id of the book<DD><CODE>courseId</CODE> - The database id of the course<DD><CODE>data</CODE> - The navigation data
<DT><B>Returns:</B><DD>1 if successful, else 0</DL>
</DD>
</DL>
<HR>

<A NAME="getDummySystemUpdates(java.lang.String, int, java.lang.String)"><!-- --></A><H3>
getDummySystemUpdates</H3>
<PRE>
java.util.List&lt;<A HREF="../../../org/emath/model/communication/DummySystemUpdate.html" title="class in org.emath.model.communication">DummySystemUpdate</A>&gt; <B>getDummySystemUpdates</B>(java.lang.String&nbsp;bookVersion,
                                                        int&nbsp;updateType,
                                                        java.lang.String&nbsp;lastUpdateTime)</PRE>
<DL>
<DD>Gets the system updates for a dummy book.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bookVersion</CODE> - The version of the book that updates are requested for<DD><CODE>updateType</CODE> - 0 for teacher book, 1 for student book<DD><CODE>lastUpdateTime</CODE> - The time when the book instance was updated last time
<DT><B>Returns:</B><DD>A list of DummySystemUpdates</DL>
</DD>
</DL>
<HR>

<A NAME="isUserInCourse(org.emath.model.communication.User, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
isUserInCourse</H3>
<PRE>
<A HREF="../../../org/emath/model/communication/Course.html" title="class in org.emath.model.communication">Course</A> <B>isUserInCourse</B>(<A HREF="../../../org/emath/model/communication/User.html" title="class in org.emath.model.communication">User</A>&nbsp;user,
                      java.lang.String&nbsp;courseString,
                      java.lang.String&nbsp;clientIp,
                      java.lang.String&nbsp;userAgent)</PRE>
<DL>
<DD>This method confirms if the given user is either a teacher or a student in 
 the course.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>user</CODE> - <DD><CODE>courseString</CODE> - The course. For example "C30"<DD><CODE>clientIp</CODE> - The ip address of the client<DD><CODE>userAgent</CODE> - The user-agent info String from the request
<DT><B>Returns:</B><DD>The course if the user is in the course. Else returns null</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Service.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/emath/service/PasswordGenerator.html" title="class in org.emath.service"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/emath/service/ServiceImpl.html" title="class in org.emath.service"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/emath/service/Service.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Service.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
